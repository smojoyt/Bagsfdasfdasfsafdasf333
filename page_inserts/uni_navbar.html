<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Karry Kraze Navbar</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>

<!-- Universal Nav Bar - Tailwind CSS with Mobile Menu + Cart Icon -->
<nav class="bg-white shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16 items-center">

      <!-- Logo -->
      <a href="/" class="flex items-center text-xl font-bold text-gray-800">
        <img src="/imgs/Logo/LL_White_01.png" alt="Karry Kraze Logo" class="h-10 w-auto mr-2" />
        Karry Kraze
      </a>

      <!-- Desktop Nav Links -->
      <div class="hidden md:flex space-x-6">
        <a href="/" class="text-gray-600 hover:text-black">Home</a>
        <a href="/collections" class="text-gray-600 hover:text-black">Shop</a>
        <a href="/about" class="text-gray-600 hover:text-black">About</a>
        <a href="/contact" class="text-gray-600 hover:text-black">Contact</a>
      </div>

      <!-- Cart Icon -->
      <button onclick="toggleCart()" class="relative text-black">
        🛒
        <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full">0</span>
      </button>

      <!-- Mobile Menu Button -->
      <button id="mobile-menu-button" class="md:hidden text-gray-800 ml-4 focus:outline-none">
        ☰
      </button>
    </div>
  </div>

  <!-- Mobile Dropdown Menu -->
  <div id="mobile-menu" class="md:hidden hidden px-4 pb-4">
    <a href="/" class="block py-2 text-gray-600 hover:text-black">Home</a>
    <a href="/collections" class="block py-2 text-gray-600 hover:text-black">Shop</a>
    <a href="/about" class="block py-2 text-gray-600 hover:text-black">About</a>
    <a href="/contact" class="block py-2 text-gray-600 hover:text-black">Contact</a>
  </div>
</nav>

<script>
  // Toggle mobile menu
  document.addEventListener('DOMContentLoaded', function () {
    const toggleBtn = document.getElementById("mobile-menu-button");
    const menu = document.getElementById("mobile-menu");
    if (toggleBtn) {
      toggleBtn.addEventListener("click", () => {
        menu.classList.toggle("hidden");
      });
    }

    // Update cart icon count if available
    const cart = JSON.parse(localStorage.getItem("savedCart")) || [];
    const totalQty = cart.reduce((sum, item) => sum + (item.qty || 1), 0);
    const countElem = document.getElementById("cart-count");
    if (countElem) countElem.textContent = totalQty;
  });
</script>

</body>
</html>
